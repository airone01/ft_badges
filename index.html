<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>42 Badge Builder</title>
    <style>
      body {
        font-family: sans-serif;
        background: #0d1117;
        color: white;
        display: flex;
        flex-direction: column;
        align-items: center;
        padding: 3rem;
      }
      .controls {
        display: flex;
        gap: 1rem;
        margin-bottom: 2rem;
        background: #161b22;
        padding: 1.5rem;
        border-radius: 8px;
      }
      select {
        padding: 0.5rem;
        background: #0d1117;
        color: white;
        border: 1px solid #30363d;
        border-radius: 4px;
      }
      #markdown-output {
        margin-top: 1rem;
        padding: 1rem;
        background: #010409;
        border: 1px solid #30363d;
        color: #58a6ff;
        font-family: monospace;
        width: 100%;
        max-width: 600px;
        text-align: center;
      }
    </style>
  </head>
  <body>
    <h1>üõ†Ô∏è Build Your Badge</h1>
    <!-- <a href="index.html" style="color: #58a6ff; margin-bottom: 2rem" -->
    <!--   >&larr; Back to Full Catalog</a -->
    <!-- > -->

    <div class="controls">
      <select id="sel-project" onchange="updateBadge()">
        <option value="libft">libft</option>
        <option value="minishell">minishell</option>
      </select>
      <select id="sel-score" onchange="updateBadge()">
        <option value="0">0</option>
        <option value="50">50</option>
        <option value="100" selected>100</option>
        <option value="125">125</option>
      </select>
      <select id="sel-logo" onchange="updateBadge()">
        <option value="text">"42" as Text</option>
        <option value="logo">42 Vector Logo</option>
      </select>
      <select id="sel-theme" onchange="updateBadge()">
        <option value="dark">Dark Theme</option>
        <option value="light">Light Theme</option>
      </select>
      <select id="sel-variant" onchange="updateBadge()">
        <option value="classic">Classic Ring</option>
        <option value="noisy">Noisy Ring</option>
      </select>
    </div>

    <img
      id="badge-preview"
      src=""
      alt="Badge Preview"
      style="max-width: 300px"
    />

    <div id="markdown-output"></div>

    <script>
      const BASE_URL =
        "https://github.com/airone01/ft_badges/raw/refs/heads/main/badges";

      function updateBadge() {
        const project = document.getElementById("sel-project").value;
        const score = document.getElementById("sel-score").value;
        const logo = document.getElementById("sel-logo").value;
        const theme = document.getElementById("sel-theme").value;
        const variant = document.getElementById("sel-variant").value;

        const filename = `${project}--${score}--${logo}--${theme}--${variant}.svg`;
        const fullPath = `${BASE_URL}/${filename}`;

        document.getElementById("badge-preview").src = fullPath;

        const markdown = `![${project} Badge](${fullPath})`;
        document.getElementById("markdown-output").textContent = markdown;
      }

      window.onload = updateBadge;
    </script>
  </body>
</html>
